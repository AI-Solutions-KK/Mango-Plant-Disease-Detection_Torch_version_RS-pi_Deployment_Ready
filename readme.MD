# ğŸ¥­ Mango Plant Disease Detection (Raspberry Pi Ready)

Offline AI system to detect mango leaf diseases using camera or image upload.  
Designed for Raspberry Pi deployment with minimal memory usage.

---

## ğŸ”§ Tech Stack
- Python 3.10+
- Flask (Web UI + API)
- ONNX Runtime (CNN feature extractor)
- Scikit-learn SVM (trained classifier)
- OpenCV (camera capture)
- Works on PC & Raspberry Pi

---

## ğŸ“ Project Structure

```text
flask_deploy/
â”‚
â”œâ”€â”€ server.py                 # Flask server (UI + API)
â”œâ”€â”€ requirements.txt          # Python dependencies
â”œâ”€â”€ efficientnet_b4.onnx      # ONNX CNN feature extractor
â”œâ”€â”€ readme.md                 # Project documentation
â”‚
â”œâ”€â”€ uploads/
â”‚   â””â”€â”€ current.jpg           # Latest uploaded/captured image (auto-replaced)
â”‚
â”œâ”€â”€ app/
â”‚   â””â”€â”€ inference.py          # ONNX + SVM inference logic
â”‚
â”œâ”€â”€ embeddings_cache/
â”‚   â”œâ”€â”€ svc_model.pkl         # Trained SVM classifier
â”‚   â”œâ”€â”€ classes.npy           # Disease labels
â”‚   â””â”€â”€ centroids.npy         # Class centroids (similarity check)
â”‚
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html            # Web UI (Upload / Capture / Diagnose)
â”‚
â”œâ”€â”€ static/
â”‚   â””â”€â”€ img.png               # Optional UI assets
â”‚
â”œâ”€â”€ pi_test/                  # Raspberry Pi camera test scripts (optional)
â””â”€â”€ .venv/                    # Virtual environment (local only)


## ğŸš€ Setup (PC or Raspberry Pi)

### 1ï¸âƒ£ Create Virtual Environment
python -m venv .venv
source .venv/bin/activate        # Linux / Raspberry Pi
.venv\Scripts\activate         # Windows

### 2ï¸âƒ£ Install Dependencies
pip install -r requirements.txt

### 3ï¸âƒ£ Run Application
python server.py

Open browser:
http://localhost:5000

For mobile / tablet:
http://<PI-IP>:5000

---

## ğŸ“¸ User Flow
1. Upload Image OR Capture using camera  
2. Click Diagnose  
3. View disease, confidence, cause, treatment, prevention  
4. Click Clean to process next leaf  

---

## ğŸŒ± Supported Diseases
- Anthracnose
- Bacterial Canker
- Powdery Mildew
- Die Back
- Sooty Mould
- Gall Midge
- Cutting Weevil
- Healthy

---

## ğŸ§  Model Details
- Feature extractor: EfficientNet (ONNX)
- Classifier: Pre-trained SVM (99% accuracy)
- Inference only on Pi (no training)

---

## ğŸ–¥ Hardware Recommendation
- Raspberry Pi 4 (4GB / 8GB)
- Pi Camera v2 or USB webcam
- 32GB+ SD card
- Heat sink / cooling fan

---

## ğŸ”Œ Camera Support
- USB webcam (PC / Pi)
- Pi Camera (CSI)
- Auto-detected, no config change

---

## ğŸ”’ Offline Usage
- Fully offline after setup
- No internet required in field

---

## âœ… Deployment Status
âœ” Tested  
âœ” Stable  
âœ” Production Ready  

---


Author: AI-Solution - Karan-kk

# ğŸ“ Raspberry Pi Deployment Guidelines  
(Mango Plant Disease Detection System)

This document provides step-by-step, practical guidelines to deploy the Mango Plant Disease Detection system on a Raspberry Pi for offline field usage.

---

## 1ï¸âƒ£ Recommended Raspberry Pi Setup

### Hardware
- Raspberry Pi 4 (4GB or 8GB)
- 32GB or higher micro-SD card
- Pi Camera v2 OR USB webcam
- Heat sink + cooling fan (recommended)
- Power supply (5V, 3A)

---

## 2ï¸âƒ£ Operating System

### Recommended OS
- Raspberry Pi OS (64-bit)
- Lite version preferred

Enable required interfaces:
```bash
sudo raspi-config
```
Enable Camera and SSH.

---

## 3ï¸âƒ£ System Dependencies

```bash
sudo apt update && sudo apt upgrade -y
sudo apt install -y python3 python3-pip python3-venv libatlas-base-dev libjpeg-dev libopenjp2-7 libtiff5 libopencv-dev
```

---

## 4ï¸âƒ£ Project Setup

Copy project to Pi:
```bash
scp -r flask_deploy pi@<PI-IP>:/home/pi/
```

Navigate:
```bash
cd flask_deploy
```

---

## 5ï¸âƒ£ Python Virtual Environment

```bash
python3 -m venv .venv
source .venv/bin/activate
pip install --upgrade pip
```

---

## 6ï¸âƒ£ Install Python Dependencies

```bash
pip install -r requirements.txt
```

---

## 7ï¸âƒ£ Camera Validation

USB camera:
```bash
ls /dev/video*
```

Test:
```bash
python3 - <<EOF
import cv2
cap = cv2.VideoCapture(0)
ret, frame = cap.read()
cv2.imwrite("test.jpg", frame)
cap.release()
print("Captured:", ret)
EOF
```

Pi Camera:
```bash
libcamera-still -o test.jpg
```

---

## 8ï¸âƒ£ Model Files Checklist

Ensure:
- efficientnet_b4.onnx
- embeddings_cache/svc_model.pkl
- embeddings_cache/classes.npy
- embeddings_cache/centroids.npy

---

## 9ï¸âƒ£ Run Application

```bash
python server.py
```

Access:
- http://localhost:5000
- http://<PI-IP>:5000

---

## ğŸ”Ÿ Field Usage Flow

1. Place mango leaf under camera
2. Capture image
3. Diagnose
4. View disease, confidence, treatment
5. Clean and repeat

---

## âœ… Deployment Status
- Offline
- Stable
- Raspberry Pi Ready

# ğŸ“ Raspberry Pi Deployment Guidelines  
(Mango Plant Disease Detection System)

This document provides step-by-step, practical guidelines to deploy the Mango Plant Disease Detection system on a Raspberry Pi for offline field usage.

---

## 1ï¸âƒ£ Recommended Raspberry Pi Setup

### Hardware
- Raspberry Pi 4 (4GB or 8GB)
- 32GB or higher micro-SD card
- Pi Camera v2 OR USB webcam
- Heat sink + cooling fan (recommended)
- Power supply (5V, 3A)

---

## 2ï¸âƒ£ Operating System

### Recommended OS
- Raspberry Pi OS (64-bit)
- Lite version preferred

Enable required interfaces:
```bash
sudo raspi-config
```
Enable Camera and SSH.

---

## 3ï¸âƒ£ System Dependencies

```bash
sudo apt update && sudo apt upgrade -y
sudo apt install -y python3 python3-pip python3-venv libatlas-base-dev libjpeg-dev libopenjp2-7 libtiff5 libopencv-dev
```

---

## 4ï¸âƒ£ Project Setup

Copy project to Pi:
```bash
scp -r flask_deploy pi@<PI-IP>:/home/pi/
```

Navigate:
```bash
cd flask_deploy
```

---

## 5ï¸âƒ£ Python Virtual Environment

```bash
python3 -m venv .venv
source .venv/bin/activate
pip install --upgrade pip
```

---

## 6ï¸âƒ£ Install Python Dependencies

```bash
pip install -r requirements.txt
```

---

## 7ï¸âƒ£ Camera Validation

USB camera:
```bash
ls /dev/video*
```

Test:
```bash
python3 - <<EOF
import cv2
cap = cv2.VideoCapture(0)
ret, frame = cap.read()
cv2.imwrite("test.jpg", frame)
cap.release()
print("Captured:", ret)
EOF
```

Pi Camera:
```bash
libcamera-still -o test.jpg
```

---

## 8ï¸âƒ£ Model Files Checklist

Ensure:
- efficientnet_b4.onnx
- embeddings_cache/svc_model.pkl
- embeddings_cache/classes.npy
- embeddings_cache/centroids.npy

---

## 9ï¸âƒ£ Run Application

```bash
python server.py
```

Access:
- http://localhost:5000
- http://<PI-IP>:5000

---

## ğŸ”Ÿ Field Usage Flow

1. Place mango leaf under camera
2. Capture image
3. Diagnose
4. View disease, confidence, treatment
5. Clean and repeat

---

## âœ… Deployment Status
- Offline
- Stable
- Raspberry Pi Ready
