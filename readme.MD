# ğŸ¥­ Mango Plant Disease Detection (Raspberry Pi Ready)

Offline AI system to detect mango leaf diseases using camera or image upload.  
Designed for Raspberry Pi deployment with minimal memory usage.

---

## ğŸ”§ Tech Stack
- Python 3.10+
- Flask (Web UI + API)
- ONNX Runtime (CNN feature extractor)
- Scikit-learn SVM (trained classifier)
- OpenCV (camera capture)
- Works on PC & Raspberry Pi

---

## ğŸ“ Project Structure

```text
flask_deploy/
â”‚
â”œâ”€â”€ server.py                 # Flask server (UI + API)
â”œâ”€â”€ requirements.txt          # Python dependencies
â”œâ”€â”€ efficientnet_b4.onnx      # ONNX CNN feature extractor
â”œâ”€â”€ readme.md                 # Project documentation
â”‚
â”œâ”€â”€ uploads/
â”‚   â””â”€â”€ current.jpg           # Latest uploaded/captured image (auto-replaced)
â”‚
â”œâ”€â”€ app/
â”‚   â””â”€â”€ inference.py          # ONNX + SVM inference logic
â”‚
â”œâ”€â”€ embeddings_cache/
â”‚   â”œâ”€â”€ svc_model.pkl         # Trained SVM classifier
â”‚   â”œâ”€â”€ classes.npy           # Disease labels
â”‚   â””â”€â”€ centroids.npy         # Class centroids (similarity check)
â”‚
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html            # Web UI (Upload / Capture / Diagnose)
â”‚
â”œâ”€â”€ static/
â”‚   â””â”€â”€ img.png               # Optional UI assets
â”‚
â”œâ”€â”€ pi_test/                  # Raspberry Pi camera test scripts (optional)
â””â”€â”€ .venv/                    # Virtual environment (local only)


## ğŸš€ Setup (PC or Raspberry Pi)

### 1ï¸âƒ£ Create Virtual Environment
python -m venv .venv
source .venv/bin/activate        # Linux / Raspberry Pi
.venv\Scripts\activate         # Windows

### 2ï¸âƒ£ Install Dependencies
pip install -r requirements.txt

### 3ï¸âƒ£ Run Application
python server.py

Open browser:
http://localhost:5000

For mobile / tablet:
http://<PI-IP>:5000

---

## ğŸ“¸ User Flow
1. Upload Image OR Capture using camera  
2. Click Diagnose  
3. View disease, confidence, cause, treatment, prevention  
4. Click Clean to process next leaf  

---

## ğŸŒ± Supported Diseases
- Anthracnose
- Bacterial Canker
- Powdery Mildew
- Die Back
- Sooty Mould
- Gall Midge
- Cutting Weevil
- Healthy

---

## ğŸ§  Model Details
- Feature extractor: EfficientNet (ONNX)
- Classifier: Pre-trained SVM (99% accuracy)
- Inference only on Pi (no training)

---

## ğŸ–¥ Hardware Recommendation
- Raspberry Pi 4 (4GB / 8GB)
- Pi Camera v2 or USB webcam
- 32GB+ SD card
- Heat sink / cooling fan

---

## ğŸ”Œ Camera Support
- USB webcam (PC / Pi)
- Pi Camera (CSI)
- Auto-detected, no config change

---

## ğŸ”’ Offline Usage
- Fully offline after setup
- No internet required in field

---

## âœ… Deployment Status
âœ” Tested  
âœ” Stable  
âœ” Production Ready  

---

Author: AI-Solution - Karan-kk
